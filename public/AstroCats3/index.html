<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    >
    <title>Flyin Nyan</title>
    <meta name="application-name" content="Flyin Nyan">
    <meta name="theme-color" content="#0b0f19">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="apple-touch-icon" href="assets/logo.png">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" type="image/png" href="assets/logo.png">

</head>
<body>
    <div id="loadingScreen">
        <img src="assets/logo.png" alt="Cyborg boot sequence" id="loadingImage">
        <p class="loading-credit">by @dasfruits</p>
        <div id="loadingStatus">
            <span class="loading-prefix">[SYS-BOOT:00]</span>
            <span class="loading-line">Initializing quantum cores — <span class="loading-percent">000%</span></span>
        </div>
    </div>
    <div id="backgroundContainer">
        <div class="backgroundLayer visible" id="backgroundLayerA"></div>
        <div class="backgroundLayer" id="backgroundLayerB"></div>
    </div>
    <button
        id="settingsButton"
        type="button"
        aria-haspopup="dialog"
        aria-controls="settingsDrawer"
        aria-expanded="false"
    >
        <span class="icon" aria-hidden="true">⚙</span>
        <span class="label">Settings</span>
    </button>
    <div id="controllerCursor" aria-hidden="true"></div>
    <div id="gameShell">
        <div id="playfield">
            <div id="playfieldStage">
                <canvas id="gameCanvas" tabindex="0" aria-label="Nyan Escape flight deck"></canvas>
                <div id="debugOverlay" aria-hidden="true" hidden>
                    <div data-debug-line="logical"></div>
                    <div data-debug-line="physical"></div>
                    <div data-debug-line="ratio"></div>
                </div>
                <div id="survivalTimer">Flight Time: <span class="value" id="timerValue">00:00.0</span></div>
            </div>
            <div id="preflightBar">
                <div id="preflightPrompt" role="status" aria-live="polite" hidden>
                    <span class="hud-title" aria-hidden="true">Nyan Ready</span>
                    <span class="prompt-text desktop-only">Press Start (Enter) to launch</span>
                    <button id="mobilePreflightButton" type="button" hidden aria-hidden="true">Tap Start</button>
                    <button
                        id="preflightSwapPilotButton"
                        type="button"
                        class="tertiary"
                        hidden
                        aria-hidden="true"
                        aria-disabled="true"
                    >
                        Swap Pilot
                    </button>
                    <button
                        id="preflightSwapWeaponButton"
                        type="button"
                        class="tertiary"
                        hidden
                        aria-hidden="true"
                        aria-disabled="true"
                    >
                        Swap Weapon
                    </button>
                    <div id="preflightLoadoutSummary" class="preflight-loadout-summary" aria-live="polite">
                        <div class="preflight-loadout-card" data-summary="pilot">
                            <div class="preflight-loadout-thumb">
                                <img id="preflightPilotImage" alt="Active pilot portrait" loading="lazy" decoding="async" />
                            </div>
                            <div class="preflight-loadout-info">
                                <span class="preflight-loadout-label">Pilot</span>
                                <span class="preflight-loadout-value" id="preflightPilotName"></span>
                                <span class="preflight-loadout-meta" id="preflightPilotRole"></span>
                            </div>
                        </div>
                        <div class="preflight-loadout-card" data-summary="weapon">
                            <div class="preflight-loadout-thumb">
                                <img id="preflightWeaponImage" alt="Active weapon schematic" loading="lazy" decoding="async" />
                            </div>
                            <div class="preflight-loadout-info">
                                <span class="preflight-loadout-label">Weapon</span>
                                <span class="preflight-loadout-value" id="preflightWeaponName"></span>
                                <span class="preflight-loadout-meta" id="preflightWeaponHighlight"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="instructions" aria-label="Flight status and mission information">
        <div
            id="instructionButtonBar"
            class="instruction-button-bar"
            role="toolbar"
            aria-label="Mission information panels"
        >
            <button type="button" class="instruction-button" data-panel-target="stats">Flight Status</button>
            <button type="button" class="instruction-button" data-panel-target="missionCard">Mission</button>
            <button type="button" class="instruction-button" data-panel-target="intelCard">Intel</button>
        </div>
        <div id="instructionPanels" hidden aria-hidden="true">
            <section id="stats" class="info-panel telemetry-panel" role="complementary" aria-live="polite">
                <h2 class="card-title">Flight Status</h2>
                <div class="stat-list" role="presentation">
                    <div class="stat-row">
                        <span class="stat-label">Pilot Level</span>
                        <span class="value" id="pilotLevel">—</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">EXP</span>
                        <span class="value" id="pilotExp">—</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Stat Points</span>
                        <span class="value" id="pilotStatPoints">—</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Score</span>
                        <span class="value" id="score">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Points</span>
                        <span class="value" id="nyan">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Streak</span>
                        <span class="value" id="streak">x1</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Best Tail</span>
                        <span class="value" id="bestStreak">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">MCAP</span>
                        <span class="value" id="mcap">6.6K</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">VOL</span>
                        <span class="value" id="vol">2.8K</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Boosts</span>
                        <span class="value power-up-list power-up-list--empty" id="powerUps" role="list">None</span>
                    </div>
                </div>
                <div
                    id="comboMeter"
                    role="progressbar"
                    aria-label="Combo charge"
                    aria-valuemin="0"
                    aria-valuemax="100"
                    aria-valuenow="0"
                >
                    <div id="comboFill"></div>
                </div>
                <section id="skillTree" class="skill-tree" aria-labelledby="skillTreeTitle" hidden>
                    <div class="skill-tree-header">
                        <h3 id="skillTreeTitle" class="skill-tree-title">Skill Uplink</h3>
                        <p id="skillTreeHint" class="skill-tree-hint">Earn EXP in flights to unlock stat points.</p>
                    </div>
                    <ul id="skillNodeList" class="skill-node-list" role="list"></ul>
                </section>
                <div class="flight-controls-toggle">
                    <button
                        type="button"
                        id="controlsToggleButton"
                        class="controls-toggle"
                        aria-expanded="false"
                        aria-controls="flightControlsSection"
                    >
                        Show Controls
                    </button>
                    <section
                        id="flightControlsSection"
                        class="flight-controls-section"
                        aria-labelledby="flightControlsTitle"
                        hidden
                    >
                        <h3 class="flight-controls-title" id="flightControlsTitle">Flight Controls</h3>
                        <div class="flight-controls-content">
                            <div class="control-list" role="list">
                                <div class="control-row" role="listitem">
                                    <div class="control-keys" aria-label="Movement keys">
                                        <span class="keycap" aria-hidden="true">←</span>
                                        <span class="keycap" aria-hidden="true">↑</span>
                                        <span class="keycap" aria-hidden="true">↓</span>
                                        <span class="keycap" aria-hidden="true">→</span>
                                    </div>
                                    <div class="control-action">Vector the catship through hazards.</div>
                                </div>
                                <div class="control-row" role="listitem">
                                    <div class="control-keys" aria-label="Fire control">
                                        <span class="keycap wide" aria-hidden="true">Space</span>
                                    </div>
                                    <div class="control-action">Launch precision plasma bolts.</div>
                                </div>
                                <div class="control-row" role="listitem">
                                    <div class="control-keys" aria-label="Pause control">
                                        <span class="keycap wide" aria-hidden="true">P</span>
                                    </div>
                                    <div class="control-action">Pause or resume the flight deck.</div>
                                </div>
                                <div class="control-row" role="listitem">
                                    <div class="control-keys" aria-label="Settings shortcut">
                                        <span class="keycap wide" aria-hidden="true">Esc</span>
                                    </div>
                                    <div class="control-action">Open the quick settings panel mid-flight.</div>
                                </div>
                                <div class="control-row" role="listitem">
                                    <div class="control-keys" aria-label="Touch controls">
                                        <span class="keycap wide" aria-hidden="true">Touch</span>
                                    </div>
                                    <div class="control-action">
                                        Rotate your phone to landscape, tilt to steer, and tap anywhere to fire. Tap ⚙ to tweak settings.
                                    </div>
                                </div>
                                <div class="control-row" role="listitem">
                                    <div class="control-keys" aria-label="PS5 DualSense controls">
                                        <span class="keycap wide" aria-hidden="true">DualSense</span>
                                    </div>
                                    <div class="control-action">
                                        <p class="control-action-title">PS5 controller mapping</p>
                                        <ul class="control-details" aria-label="DualSense button map">
                                            <li><span class="control-label">Left Stick / D-Pad</span> Steer the catship. Double-tap a direction to trigger a dash burst through hazards.</li>
                                            <li><span class="control-label">R2 / L2 / ✕ / □ / L1 / R1</span> Hold to keep the plasma cannons firing. Any of these triggers or face buttons will sustain fire.</li>
                                            <li><span class="control-label">Options</span> Pause or resume mid-flight. From pre-flight or after a crash, Options also activates the highlighted launch, retry, or submit action.</li>
                                            <li><span class="control-label">✕ (Cross)</span> Confirm prompts and advance menus, mirroring the main launch button.</li>
                                        </ul>
                                        <p class="control-tip">When pause or results overlays are open, focus snaps to the primary action. Use ✕ to confirm, or press Options again to return to the cockpit without selecting anything.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </section>
            <section class="hud-card info-panel" id="missionCard" aria-labelledby="missionCardTitle">
                <h2 class="card-title" id="missionCardTitle">Mission Brief</h2>
                <div class="card-body">
                    <ul class="mission-list">
                        <li>Collect Points to fuel the escape and grow your score.</li>
                        <li>Slip between asteroids and hostile fire to stay in the fight.</li>
                        <li>Secure booster cores for temporary firepower and agility.</li>
                        <li>Snag the Radiant Shield to ricochet villains and asteroids away.</li>
                        <li>Channel Hyper Beam cores to carve safe corridors when the lane is crowded.</li>
                        <li>Keep the combo meter charged to amplify every point.</li>
                    </ul>
                </div>
            </section>
            <section class="hud-card info-panel" id="intelCard" aria-labelledby="intelCardTitle">
                <h2 class="card-title" id="intelCardTitle">Tactical Intel</h2>
                <div class="card-body">
                    <div class="challenge-section" aria-live="polite">
                        <h3>Active Challenges</h3>
                        <ul class="challenge-list" id="challengeList" role="list"></ul>
                    </div>
                    <div class="cosmetic-section" aria-live="polite">
                        <h3>Cosmetic Loadout</h3>
                        <div class="cosmetic-group" role="group" aria-label="Ship skins">
                            <span class="cosmetic-group-label">Ship</span>
                            <div class="cosmetic-options" id="skinOptions"></div>
                        </div>
                        <div class="cosmetic-group" role="group" aria-label="Trail styles">
                            <span class="cosmetic-group-label">Trail</span>
                            <div class="cosmetic-options" id="trailOptions"></div>
                        </div>
                        <div class="cosmetic-group" role="group" aria-label="Weapon systems">
                            <span class="cosmetic-group-label">Weapon</span>
                            <div class="cosmetic-options weapon-options" id="weaponOptions">
                                <div class="weapon-summary-card" aria-live="polite">
                                    <img id="weaponSummaryImage" alt="" />
                                    <div class="weapon-summary-copy">
                                        <span id="weaponSummaryName" class="weapon-summary-name"></span>
                                        <p id="weaponSummaryDescription" class="weapon-summary-description"></p>
                                    </div>
                                </div>
                                <button
                                    id="openWeaponSelectButton"
                                    type="button"
                                    class="cosmetic-option weapon-change-button"
                                >
                                    Change Weapon
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="meta-progress-grid">
                        <section class="meta-card">
                            <h3>Reward Catalogue</h3>
                            <ul id="rewardCatalogueList" class="reward-catalogue" role="list" aria-live="polite"></ul>
                        </section>
                        <section class="meta-card community-card">
                            <h3>Community Goals</h3>
                            <ul id="communityGoalList" class="community-goal-list" role="list" aria-live="polite"></ul>
                        </section>
                        <section class="meta-card achievement-card">
                            <h3>Achievement Badges</h3>
                            <ul id="achievementBadgeList" class="achievement-badge-list" role="list" aria-live="polite"></ul>
                        </section>
                    </div>
                    <ul class="intel-log" id="intelLog" role="list" aria-live="polite"></ul>
                </div>
            </section>
        </div>
        <div
            id="infoModal"
            class="info-modal"
            role="dialog"
            aria-modal="true"
            aria-labelledby="infoModalTitle"
            hidden
            tabindex="-1"
        >
            <div class="info-modal-content" role="document">
                <div class="info-modal-header">
                    <h2 id="infoModalTitle"></h2>
                    <button type="button" id="infoModalClose" class="info-modal-close" aria-label="Close panel">
                        ✕
                    </button>
                </div>
                <div id="infoModalBody" class="info-modal-body"></div>
            </div>
        </div>
    </div>
    <div id="touchControls" aria-hidden="true">
        <div id="joystickZone">
            <div class="joystick-ring"></div>
            <div class="joystick-thumb"></div>
        </div>
        <button id="fireButton" type="button" aria-label="Fire cosmic arrows">Fire</button>
    </div>
    <div id="overlay">
        <div class="overlay-content">
            <h1 class="overlay-logo">
                <img src="assets/logo.png" alt="Astro Cats 3 logo">
            </h1>
            <div id="comicIntro" class="comic-panels" hidden>
            <article class="comic-panel">
                <h3>Inciting Incident</h3>
                <p>Space Station Meowprise is under siege by neon asteroids. Only your star-kitted reflexes can cut a path to safety.</p>
            </article>
            <article class="comic-panel">
                <h3>Assemble the Crew</h3>
                <p>Power cores, Nova Pulses, and the Radiant Shield await. Stack boosts, chain streaks, and bend the odds in your favor.</p>
            </article>
            <article class="comic-panel">
                <h3>Broadcast the Escape</h3>
                <p>Every logged flight inspires the squadron. Chronicle your best three runs each cycle and rally the galaxy.</p>
            </article>
        </div>
            <p id="overlayMessage">Thread the cosmic needle, gather Points, and charge Nova Pulses to vaporize space junk. Ready to glide?</p>
            <form id="callsignForm" autocomplete="off" novalidate>
                <label for="playerNameInput">Pilot Callsign</label>
                <div class="input-row">
                    <input id="playerNameInput" name="playerName" type="text" maxlength="24" autocomplete="off" spellcheck="false" placeholder="Ace Pilot" aria-describedby="callsignHint">
                    <span id="callsignHint">Confirm your callsign, then press Start (Enter) to launch.</span>
                </div>
            </form>
            <div id="overlayActions">
                <button
                    id="flyNowButton"
                    type="button"
                    class="accent"
                    hidden
                    aria-hidden="true"
                    aria-label="Fly Now — auto-generate a temporary callsign and launch a quick training flight"
                >
                    Fly Now
                </button>
                <button id="overlayButton" type="button" disabled aria-disabled="true">Confirm Callsign</button>
                <button id="overlaySecondaryButton" type="button" class="secondary" hidden aria-disabled="true">Skip Submission</button>
                <button id="swapPilotButton" type="button" class="tertiary">Swap Pilot</button>
                <button id="swapWeaponButton" type="button" class="tertiary">Swap Weapon</button>
            </div>
            <div id="pilotPreview" aria-live="polite">
                <div class="pilot-preview-header">
                    <h2>Custom Loadouts</h2>
                    <p id="pilotPreviewDescription">Equip one of your saved presets instantly before launch. Manage your presets from the Astrocat Lobby before stepping into the Starcade.</p>
                </div>
                <div id="pilotPreviewGrid" class="pilot-preview-grid" role="list"></div>
            </div>
            <div id="overlayPanels">
                <article id="summaryCard" class="summary-card" aria-label="Flight summary">
                    <header class="summary-card-header">
                        <h2 class="summary-card-title">Flight Debrief</h2>
                        <div class="summary-tabs" role="tablist" aria-label="Debrief categories">
                            <button
                                type="button"
                                class="summary-tab active"
                                id="summaryTab-run"
                                data-summary-tab="run"
                                aria-selected="true"
                                aria-controls="summarySectionRun"
                                role="tab"
                            >
                                Your run
                            </button>
                            <button
                                type="button"
                                class="summary-tab"
                                id="summaryTab-rank"
                                data-summary-tab="rank"
                                aria-selected="false"
                                aria-controls="summarySectionRank"
                                role="tab"
                                tabindex="-1"
                            >
                                Global rank
                            </button>
                            <button
                                type="button"
                                class="summary-tab"
                                id="summaryTab-share"
                                data-summary-tab="share"
                                aria-selected="false"
                                aria-controls="summarySectionShare"
                                role="tab"
                                tabindex="-1"
                            >
                                Share
                            </button>
                        </div>
                    </header>
                    <div class="summary-body">
                        <section
                            id="summarySectionRun"
                            class="summary-section active"
                            data-summary-section="run"
                            role="tabpanel"
                            aria-labelledby="summaryTab-run"
                        >
                            <header class="summary-section-header">
                                <h3>Your run</h3>
                                <p id="runSummaryStatus" class="summary-status" role="status" aria-live="polite"></p>
                            </header>
                            <div class="run-summary-grid" role="list">
                                <div class="run-summary-metric" role="listitem">
                                    <span class="label">Flight time</span>
                                    <span class="value" id="runSummaryTime">&mdash;</span>
                                </div>
                                <div class="run-summary-metric" role="listitem">
                                    <span class="label">Score</span>
                                    <span class="value" id="runSummaryScore">&mdash;</span>
                                </div>
                                <div class="run-summary-metric" role="listitem">
                                    <span class="label">Best tail</span>
                                    <span class="value" id="runSummaryStreak">&mdash;</span>
                                </div>
                                <div class="run-summary-metric" role="listitem">
                                    <span class="label">Pickups</span>
                                    <span class="value" id="runSummaryNyan">&mdash;</span>
                                </div>
                            </div>
                            <div class="run-summary-meta">
                                <span id="runSummaryPlacement" class="meta-item"></span>
                                <span id="runSummaryRuns" class="meta-item"></span>
                            </div>
                            <div id="highScorePanel" class="summary-subpanel" aria-live="polite">
                                <div id="highScoreTitle" class="summary-subtitle">Top Flight Times</div>
                                <ol id="highScoreList"></ol>
                            </div>
                        </section>
                        <section
                            id="summarySectionRank"
                            class="summary-section"
                            data-summary-section="rank"
                            role="tabpanel"
                            aria-labelledby="summaryTab-rank"
                            hidden
                        >
                            <div id="leaderboardPanel" class="summary-subpanel">
                                <div class="panel-header">
                                    <div class="panel-title" id="leaderboardTitle">Galaxy Standings</div>
                                    <div class="panel-tabs" role="tablist" aria-label="Leaderboard scope">
                                        <button
                                            type="button"
                                            class="leaderboard-tab active"
                                            data-leaderboard-scope="global"
                                            aria-pressed="true"
                                        >
                                            Global
                                        </button>
                                        <button
                                            type="button"
                                            class="leaderboard-tab"
                                            data-leaderboard-scope="weekly"
                                            aria-pressed="false"
                                        >
                                            Weekly
                                        </button>
                                    </div>
                                </div>
                                <p
                                    id="leaderboardStatus"
                                    class="panel-status"
                                    role="status"
                                    aria-live="polite"
                                    hidden
                                ></p>
                                <ol id="leaderboardList"></ol>
                            </div>
                        </section>
                        <section
                            id="summarySectionShare"
                            class="summary-section"
                            data-summary-section="share"
                            role="tabpanel"
                            aria-labelledby="summaryTab-share"
                            hidden
                        >
                            <div id="sharePanel" class="summary-subpanel">
                                <div class="panel-title">Broadcast Run</div>
                                <div class="share-buttons">
                                    <button id="shareButton" class="share-button" type="button">Share Flight Log</button>
                                </div>
                                <p id="shareStatus" role="status" aria-live="polite"></p>
                            </div>
                        </section>
                    </div>
                </article>
            </div>
        </div>
    </div>
    <div id="characterSelectModal" hidden aria-hidden="true">
        <div class="character-select-backdrop" aria-hidden="true"></div>
        <div
            class="character-select-content"
            role="dialog"
            aria-modal="true"
            aria-labelledby="characterSelectTitle"
        >
            <h2 id="characterSelectTitle">Select Your Pilot</h2>
            <div id="characterSelectSummary" aria-live="polite">
                <p class="character-summary-description" data-character-summary-description>
                    Each pilot tunes the starfighter differently. Hover or focus to reveal their loadout, then lock in
                    the approach that fits this run.
                </p>
                <ul class="character-summary-ongoing" data-character-summary-ongoing hidden></ul>
            </div>
            <div class="character-grid" role="list" data-character-grid></div>
            <div class="character-select-actions">
                <button id="characterSelectConfirm" type="button" disabled aria-disabled="true">
                    Select a Pilot
                </button>
                <button id="characterSelectCancel" type="button" class="secondary">Back</button>
            </div>
        </div>
    </div>
    <div id="weaponSelectModal" hidden aria-hidden="true">
        <div class="character-select-backdrop" aria-hidden="true"></div>
        <div
            class="character-select-content"
            role="dialog"
            aria-modal="true"
            aria-labelledby="weaponSelectTitle"
        >
            <h2 id="weaponSelectTitle">Select Weapon Loadout</h2>
            <div id="weaponSelectSummary" aria-live="polite">
                <p class="character-summary-description" data-weapon-summary-description>
                    Weapons calibrate your firing pattern. Preview each loadout, then deploy the arsenal that fits your flight
                    plan.
                </p>
            </div>
            <div class="character-grid" role="list" data-weapon-grid></div>
            <div class="character-select-actions">
                <button id="weaponSelectConfirm" type="button" disabled aria-disabled="true">Equip Weapon</button>
                <button id="weaponSelectCancel" type="button" class="secondary">Back</button>
            </div>
        </div>
    </div>
    <div id="loadoutEditorModal" hidden aria-hidden="true">
        <div class="loadout-editor-backdrop" data-loadout-editor-dismiss="backdrop" aria-hidden="true"></div>
        <div
            class="loadout-editor-content"
            role="dialog"
            aria-modal="true"
            aria-labelledby="loadoutEditorTitle"
        >
            <div class="loadout-editor-header">
                <h2 id="loadoutEditorTitle">Customize Loadout</h2>
                <button
                    id="loadoutEditorClose"
                    type="button"
                    class="loadout-editor-close"
                    aria-label="Close loadout editor"
                >
                    ✕
                </button>
            </div>
            <p id="loadoutEditorSubtitle" class="loadout-editor-subtitle">
                Browse pilots, weapons, suits, and streams to tailor this preset. Saving will store the selections to the chosen loadout slot.
            </p>
            <div class="loadout-editor-summary" aria-live="polite">
                <div class="loadout-editor-summary-row">
                    <span class="loadout-editor-summary-label">Pilot</span>
                    <span class="loadout-editor-summary-value" data-loadout-editor-summary="pilot"></span>
                </div>
                <div class="loadout-editor-summary-row">
                    <span class="loadout-editor-summary-label">Weapon</span>
                    <span class="loadout-editor-summary-value" data-loadout-editor-summary="weapon"></span>
                </div>
                <div class="loadout-editor-summary-row">
                    <span class="loadout-editor-summary-label">Suit</span>
                    <span class="loadout-editor-summary-value" data-loadout-editor-summary="skin"></span>
                </div>
                <div class="loadout-editor-summary-row">
                    <span class="loadout-editor-summary-label">Stream</span>
                    <span class="loadout-editor-summary-value" data-loadout-editor-summary="trail"></span>
                </div>
            </div>
            <section class="loadout-editor-section" aria-labelledby="loadoutEditorPilotsTitle">
                <div class="loadout-editor-section-header">
                    <h3 id="loadoutEditorPilotsTitle">Select Pilot</h3>
                    <p class="loadout-editor-section-note">Highlights update as you switch between pilots.</p>
                </div>
                <div class="character-grid" role="list" data-loadout-editor-pilots></div>
            </section>
            <section class="loadout-editor-section" aria-labelledby="loadoutEditorWeaponsTitle">
                <div class="loadout-editor-section-header">
                    <h3 id="loadoutEditorWeaponsTitle">Select Weapon</h3>
                    <p class="loadout-editor-section-note">Pair a weapon kit with your pilot to complete the preset.</p>
                </div>
                <div class="character-grid" role="list" data-loadout-editor-weapons></div>
            </section>
            <section class="loadout-editor-section" aria-labelledby="loadoutEditorSkinsTitle">
                <div class="loadout-editor-section-header">
                    <h3 id="loadoutEditorSkinsTitle">Select Suit</h3>
                    <p class="loadout-editor-section-note">Swap hull coatings to update the loadout's look.</p>
                </div>
                <div class="loadout-editor-chip-grid" role="radiogroup" data-loadout-editor-skins></div>
            </section>
            <section class="loadout-editor-section" aria-labelledby="loadoutEditorTrailsTitle">
                <div class="loadout-editor-section-header">
                    <h3 id="loadoutEditorTrailsTitle">Select Stream</h3>
                    <p class="loadout-editor-section-note">Trail effects complete the preset's signature.</p>
                </div>
                <div class="loadout-editor-chip-grid" role="radiogroup" data-loadout-editor-trails></div>
            </section>
            <div class="loadout-editor-actions">
                <button id="loadoutEditorSave" type="button">Save Loadout</button>
                <button id="loadoutEditorCancel" type="button" class="secondary">Cancel</button>
            </div>
        </div>
    </div>
    <div
        id="settingsDrawer"
        role="dialog"
        aria-modal="true"
        aria-labelledby="settingsTitle"
        aria-hidden="true"
        hidden
    >
        <div class="settings-backdrop" data-settings-dismiss="backdrop"></div>
        <div class="settings-content" role="document">
            <button id="settingsCloseButton" type="button">Close</button>
            <h2 id="settingsTitle">Flight Settings</h2>
            <div class="settings-group" role="group" aria-labelledby="settingsTitle">
                <div class="settings-row">
                    <div class="setting-label">
                        Master Volume
                        <span>Overall output</span>
                    </div>
                    <input
                        id="masterVolumeSlider"
                        type="range"
                        min="0"
                        max="100"
                        value="85"
                        aria-valuemin="0"
                        aria-valuemax="100"
                        aria-valuenow="85"
                        aria-label="Master volume"
                    />
                    <output id="masterVolumeValue" for="masterVolumeSlider">85%</output>
                </div>
                <div class="settings-row">
                    <div class="setting-label">
                        Music Track
                        <span>Background score</span>
                    </div>
                    <label class="settings-toggle" for="musicToggle">
                        <input id="musicToggle" type="checkbox" checked />
                        <span id="musicToggleStatus" class="toggle-status">On</span>
                    </label>
                </div>
                <div class="settings-row">
                    <div class="setting-label">
                        Effects Audio
                        <span>Projectiles &amp; bursts</span>
                    </div>
                    <label class="settings-toggle" for="sfxToggle">
                        <input id="sfxToggle" type="checkbox" checked />
                        <span id="sfxToggleStatus" class="toggle-status">On</span>
                    </label>
                </div>
                <div class="settings-row">
                    <div class="setting-label">
                        Reduced Effects
                        <span>Dim particle storms</span>
                    </div>
                    <label class="settings-toggle" for="reducedEffectsToggle">
                        <input id="reducedEffectsToggle" type="checkbox" />
                        <span id="reducedEffectsStatus" class="toggle-status">Off</span>
                    </label>
                </div>
                <div class="settings-row difficulty-row">
                    <div class="setting-label" id="difficultyLabel">
                        Difficulty
                        <span>Flight intensity</span>
                    </div>
                    <div
                        id="difficultySelector"
                        class="difficulty-selector"
                        role="radiogroup"
                        aria-labelledby="difficultyLabel"
                    >
                        <label class="difficulty-option" data-difficulty-option="easy">
                            <input type="radio" name="difficultySetting" value="easy" />
                            <span class="difficulty-name">Easy</span>
                            <span class="difficulty-note">Gentle patrol</span>
                        </label>
                        <label class="difficulty-option" data-difficulty-option="medium">
                            <input type="radio" name="difficultySetting" value="medium" />
                            <span class="difficulty-name">Medium</span>
                            <span class="difficulty-note">Standard sortie</span>
                        </label>
                        <label class="difficulty-option" data-difficulty-option="hard">
                            <input type="radio" name="difficultySetting" value="hard" />
                            <span class="difficulty-name">Hard</span>
                            <span class="difficulty-note">Hostile skies</span>
                        </label>
                        <label class="difficulty-option" data-difficulty-option="hyper">
                            <input type="radio" name="difficultySetting" value="hyper" />
                            <span class="difficulty-name">Hyper</span>
                            <span class="difficulty-note">Maximum threat</span>
                        </label>
                    </div>
                </div>
                <p id="difficultyDescription" class="difficulty-description" aria-live="polite"></p>
            </div>
        </div>
    </div>
    <div
        id="pauseOverlay"
        role="dialog"
        aria-modal="true"
        aria-labelledby="pauseTitle"
        aria-hidden="true"
        hidden
    >
        <div class="pause-card" role="document">
            <h2 id="pauseTitle">Flight Paused</h2>
            <p id="pauseMessage">Press P or tap Resume to continue your run.</p>
            <div class="pause-actions">
                <button id="resumeButton" type="button" class="pause-primary">Resume</button>
                <button id="pauseSettingsButton" type="button" class="pause-secondary">Settings</button>
            </div>
            <p id="pauseHint" class="pause-hint" hidden></p>
        </div>
    </div>

    <div
        id="mascotCallout"
        class="mascot-callout"
        role="status"
        aria-live="polite"
        aria-hidden="true"
    >
        <img data-mascot-image alt="Mission control companion" loading="lazy" decoding="async" hidden />
        <div class="mascot-bubble" aria-hidden="true">
            <p class="mascot-text" data-mascot-text></p>
        </div>
    </div>
    <script src="../leaderboard-config.js"></script>
    <script type="module" src="scripts/app.js?v=20240911"></script>

</body>
</html>
